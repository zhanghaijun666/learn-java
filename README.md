## 设计模式的类型 
总体来说，设计模式分为三类23种：
- 创建型（5种） ： 工厂模式、抽象工厂模式、单例模式、原型模式、构建者模式 
- 结构型（7种）： 适配器模式、装饰模式、代理模式 、外观模式、桥接模式、组合模式、享元模式 
- 行为型（11种）： 模板方法模式、策略模式 、观察者模式、中介者模式、状态模式、责任链模式、 命令模式、迭代器模式、访问者模式、解释器模式、备忘录模式

## 认识MyBatis mybatis

参考网址：http://www.mybatis.org/mybatis-3/zh/index.html 
Github源码地址：https://github.com/mybatis/mybatis-3

#### \#{}和${}区别

- \#{} ：相当于JDBC SQL语句中的占位符? (PreparedStatement) ${} : 相当于JDBC SQL语句中的连接符合 + (Statement)
- \#{} ： 进行输入映射的时候，会对参数进行类型解析（如果是String类型，那么SQL语句会自动加 上’’） ${} :进行输入映射的时候，将参数原样输出到SQL语句中
- \#{} ： 如果进行简单类型（String、Date、8种基本类型的包装类）的输入映射时，#{}中参数名称 可以任意 ${} : 如果进行简单类型（String、Date、8种基本类型的包装类）的输入映射时，${}中参数名称 必须是value
- ${} :存在SQL注入问题 ，使用OR 1=1 关键字将查询条件忽略

## 基础应用篇

#### mapper代理开发方式

此处使用的是JDK的动态代理方式，延迟加载使用的cglib动态代理方式

#### 代理理解 

代理分为静态代理和动态代理。此处先不说静态代理，因为Mybatis中使用的代理方式是动态代理。 
动态代理分为两种方式： 
- 基于JDK的动态代理--针对有接口的类进行动态代理 
- 基于CGLIB的动态代理--通过子类继承父类的方式去进行代理。

## 高级应用篇

#### 延迟加载 

什么是延迟加载 

- MyBatis中的延迟加载，也称为懒加载，是指在进行关联查询时，按照设置延迟规则推迟对关联对 象的select查询。延迟加载可以有效的减少数据库压力。 

- Mybatis的延迟加载，需要通过resultMap标签中的association和collection子标签才能演示成 功。 

- Mybatis的延迟加载，也被称为是嵌套查询，对应的还有嵌套结果的概念，可以参考一对多关联的 案例。 

- 注意：MyBatis的延迟加载只是对关联对象的查询有延迟设置，对于主加载对象都是直接执行查 询语句的。 

#### 延迟加载的分类 
MyBatis根据对关联对象查询的select语句的`执行时机`，分为三种类型：`直接加载`、`侵入式加载与深度延迟加载` 
- 直接加载： 执行完对主加载对象的select语句，马上执行对关联对象的select查询。 
- 侵入式延迟：执行对主加载对象的查询时，不会执行对关联对象的查询。但当要访问主加载对象的 某个属性（该属性不是关联对象的属性）时，就会马上执行关联对象的select查询。 
- 深度延迟：执行对主加载对象的查询时，不会执行对关联对象的查询。访问主加载对象的详情时也 不会执行关联对象的select查询。只有当真正访问关联对象的详情时，才会执行对关联对象的 select查询。

**延迟加载策略需要在Mybatis的全局配置文件中，通过标签进行设置**

#### N+1问题
- 深度延迟加载的使用会提升性能。
- 如果延迟加载的表数据太多，此时会产生N+1问题，主信息加载一次算1次，而从信息是会根据主
信息传递过来的条件，去查询从表多次。

#### 动态SQL
动态SQL的思想：就是使用不同的动态SQL标签去完成字符串的拼接处理、循环判断。
解决的问题是：
1.  在映射文件中，会编写很多有重叠部分的SQL语句，比如SELECT语句和WHERE语句等这些重叠语
句，该如何处理
2. SQL语句中的where条件有多个，但是页面只传递过来一个条件参数，此时会发生问题。
